#+TITLE: Ansibilized ADS Service
#+PROPERTY: session *scratch*
#+PROPERTY: results output
#+PROPERTY: exports code
#+SETUPFILE: org-templates/level-0.org

* Introduction
Auto Deployment Service(ADS) is one of the Node in base-1 cluster, which is responsible for deploying and testing the labs.
The detail description of each Node in the cluster can be referenced in the base-1 cluster document. This document describes
the roles, services, and various adapters of the ADS.
* Design
** Architecture of Network
#+CAPTION:  Network Diagram
#+LABEL:  fig-network-diagram
#+NAME: fig-network-diagram
 [[./images/spec-base1-cluster.png]]
This Network diagram represents the structure of ADS in the Base-1 Cluster.
The prerequisite for the ADS is to ensure that all other nodes in the Network are setup.
* ADS as plug and play

** Role of ADS
** ADS and Adapters
** RELEASE Description

* Steps to configure container on base machine
Follow the steps to setup Auto Deployment Service using Ansible

** Configuration of a container 
container on base machine 
Create container with the following configuration:
#+BEGIN_EXAMPLE
Operating System: Centos6.6
Architecture: 64-bit, x86
Memory: 256MB
Disk space: 2GB
#+END_EXAMPLE

** Creation of container
Create container using following commands:
#+BEGIN_EXAMPLE
vzctl create <ctid> --ostemplate centos-6-x86_64 --hostname <hostname> --ipadd <ip address>
vzctl start <ctid>
vzctl set <ctid> --nameserver inherit --ram 256M --swap 512M --onboot yes --save
#+END_EXAMPLE

** Setup proxy on container 
#+BEGIN_EXAMPLE
export https_proxy="https://proxy.iiit.ac.in:8080"
export http_proxy="http://proxy.iiit.ac.in:8080"
#+END_EXAMPLE
Note: In case of No proxy no need to do this step.

** Installation of ansible on the container 
Use the following commands to install ansible on the container:
#+BEGIN_EXAMPLE
rpm -Uvh http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-8.noarch.rpm
yum install ansible -y
#+END_EXAMPLE


* Nodes
This cluster contains the following machine:
#+BEGIN_SRC yaml :tangle hosts :eval no
[ads-server]
10.2.56.230
#+END_SRC

